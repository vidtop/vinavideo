function s3bubbleGlobals(){var e={api:"data"},t={};return t.extend=function(e,o){for(var s in o)"object"==typeof e[s]?t.extend(e[s],o[s]):e[s]=o[s];return e},t.isScrolledIntoView=function(e){if(e.getBoundingClientRect()){var t=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;return t<window.innerHeight&&o>=0}},t.setFontSize=function(e){if(document.getElementById(e.id)){var t=document.getElementById(e.id).offsetWidth,o={maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35};if(e.hasOwnProperty("elements"))for(var s=e.elements,i=s.length-1;i>=0;i--)if(s[i].hasOwnProperty("fontRatio")&&s[i].hasOwnProperty("el")){var n=(t>o.maximum?o.maximum:t<o.minimum?o.minimum:t)/s[i].fontRatio,a=n>o.maxFont?o.maxFont:n<o.minFont?o.minFont:n;s[i].el.style.fontSize=a+"px"}}},t.copy=function e(t){var o,s,i;o=Array.isArray(t)?[]:{};for(i in t)s=t[i],o[i]="object"==typeof s?e(s):s;return o},t.addScripts=function(){var e=document.createElement("script");e.type="text/javascript",e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js";var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//www.google-analytics.com/analytics.js",document.getElementsByTagName("head")[0].setAttribute("data-cast-api-enabled","true");var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js",function(){try{return window.self!==window.top}catch(e){return!0}}()||(document.head.appendChild(e),document.head.appendChild(t),document.head.appendChild(o));var s=document.getElementsByClassName("s3bubble");for(p=0;p<s.length;p++)s[p].getAttribute("data-setup")&&(b=JSON.parse(s[p].getAttribute("data-setup")),s3bubble(s[p]).video(b));var i=document.getElementsByClassName("s3bubble-modal");for(p=0;p<i.length;p++)i[p].getAttribute("data-setup")&&(b=JSON.parse(i[p].getAttribute("data-setup")),s3bubble("s3bubble-modal").modal(b));var n=document.getElementsByClassName("s3bubble-service");for(p=0;p<n.length;p++)n[p].getAttribute("data-setup")&&(b=JSON.parse(n[p].getAttribute("data-setup")),s3bubble(n[p]).service(b));var a=document.getElementsByClassName("s3bubble-audio");for(p=0;p<a.length;p++)a[p].getAttribute("data-setup")&&(b=JSON.parse(a[p].getAttribute("data-setup")),s3bubble(a[p]).audio(b));var r=document.getElementsByClassName("s3bubble-live");for(p=0;p<r.length;p++)r[p].getAttribute("data-setup")&&(b=JSON.parse(r[p].getAttribute("data-setup")),s3bubble(r[p]).live(b));var l=document.getElementsByClassName("s3bubble-playlist");for(p=0;p<l.length;p++)l[p].getAttribute("data-setup")&&(b=JSON.parse(l[p].getAttribute("data-setup")),s3bubble(l[p]).playlist(b));var d=document.getElementsByClassName("s3bubble-lazy");for(p=0;p<d.length;p++)d[p].getAttribute("data-setup")&&(b=JSON.parse(d[p].getAttribute("data-setup")),s3bubble(d[p]).lazy(b));for(var u=document.getElementsByClassName("s3bubble-link"),p=0;p<u.length;p++)u[p].addEventListener("click",function(){var e=JSON.parse(this.getAttribute("data-setup"));s3bubble("s3bubble-modal").modal(e)},!1);var c=document.getElementsByClassName("s3bubble-dragger");for(p=0;p<c.length;p++)if(c[p].getAttribute("data-setup")){var b=JSON.parse(c[p].getAttribute("data-setup"));s3bubble(c[p]).dragger(b)}for(var h=document.getElementsByClassName("s3bubble-list"),p=0;p<h.length;p++)h[p].addEventListener("click",function(e){e.preventDefault();var t=JSON.parse(this.getAttribute("data-setup"));t.hasOwnProperty("listContainerId")&&s3bubble(document.getElementById(t.listContainerId)).video(t)},!1)},t.getData=function(t,o){var s=vidtop._models;return"globals"==t.uri?s.getData(window.vidtop.config.player,function(e){o(e)}):/^2PACX-/.test(t.code)?s.getPlayObj(t.code,function(e){e.post_id=t.code,o(e)}):(t.location="streamiumtheme.com",void videojs.xhr({method:"GET",body:function(e){var t="";for(var o in e)e.hasOwnProperty(o)&&(t.length>0&&(t+="&"),t+=encodeURI(o+"="+e[o]));return t}(t),uri:[e.api,"api",t.uri,t.code].filter(function(e){return e}).join("/")+".json",headers:{"Content-Type":"application/x-www-form-urlencoded"}},function(e,t,s){if(200===t.statusCode){var i=JSON.parse(t.body);o(i.error?{error:!0,message:i.message}:i)}else 200!==t.statusCode&&o({error:!0,message:"Request failed.  Returned status of "+t.statusCode})}))},t.getJson=function(e,t){var o=new XMLHttpRequest;o.open("GET",e.waveform),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){if(200===o.status){var e=JSON.parse(o.responseText);t(e.error?{error:!0,message:e.message}:e)}else 200!==o.status&&t({error:!0,message:"Request failed.  Returned status of "+o.status})},o.send()},t.swipedetect=function(e,t){var o,s,i,n,a,r,l,d=e,u=t||function(e){};d.addEventListener("touchstart",function(e){var t=e.changedTouches[0];o="none",dist=0,s=t.pageX,i=t.pageY,l=(new Date).getTime(),e.preventDefault()},!1),d.addEventListener("touchmove",function(e){e.preventDefault()},!1),d.addEventListener("touchend",function(e){var t=e.changedTouches[0];n=t.pageX-s,a=t.pageY-i,(r=(new Date).getTime()-l)<=300&&(Math.abs(n)>=150&&Math.abs(a)<=100?o=n<0?"left":"right":Math.abs(a)>=150&&Math.abs(n)<=100&&(o=a<0?"up":"down")),u(o),e.preventDefault()},!1)},t.s3bubbleCleanFilename=function(e){if(""===e||void 0===e||!1===e)return null;try{return e=decodeURIComponent(e),e=e.replace(/\\/g,""),e=e.replace(/\_/g," "),e=e.replace(/\-/g," ")}catch(t){return e=e.replace(/\\/g,""),e=e.replace(/\_/g," "),e=e.replace(/\-/g," ")}},t.isAndroid=function(){return navigator.userAgent.match(/Android/i)},t.isBlackBerry=function(){return navigator.userAgent.match(/BlackBerry/i)},t.isIOS=function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},t.isOpera=function(){return navigator.userAgent.match(/Opera Mini/i)},t.isWindows=function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},t.isMobile=function(){return t.isAndroid()||t.isBlackBerry()||t.isIOS()||t.isOpera()||t.isWindows()},t.getExternalService=function(e){if(e.match(/(http:\/\/|https:\/\/|)(player.|www.)?(dailymotion\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1)t="youtube";else if(RegExp.$3.indexOf("vimeo")>-1)t="vimeo";else if(RegExp.$3.indexOf("dailymotion")>-1)var t="dailymotion";return{type:t,id:RegExp.$6}},t}function s3bubble(e){var t={};return videojs.browser.IS_ANY_SAFARI||(videojs.options.hls.overrideNative=!0,videojs.options.html5.nativeAudioTracks=!1,videojs.options.html5.nativeTextTracks=!1),t.playlist=function(o,s){o.hasOwnProperty("code")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"playlist_codes",id:o.code},function(i){if(i.error)return video=document.createElement("video"),video.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(video.style.position="absolute",video.style.top="0px"),e.appendChild(video),player=videojs(video),player.errorsPlugin({}),void player.error({code:7,message:i.message});o.codes=i.codes,o.options=i.options,o.meta=i.meta,o.brand=i.brand,o.source=i.source,o.playlist=!0,o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,s):t.video(o,s)})))},t.modal=function(o,s){if(o.hasOwnProperty("codes"))if(o.hasOwnProperty("modal")){var i="";o.modal.hasOwnProperty("text")&&(i="<p style='margin-top:10px;'>"+o.modal.text+"</p>"),o.modal.html="<div id='"+e+"' class='s3bubbble-prepare-16-9'></div>"+i,o.hasOwnProperty("options")?o.options.prepare=!0:(o.options={},o.options.prepare=!0);var n=null;if(o.modal.hasOwnProperty("link")&&(n=o.modal.link,delete o.modal.link),o.modal.hasOwnProperty("delay")){var a=o.modal.delay;delete o.modal.delay,o.modal.allowOutsideClick=!1,setTimeout(function(){if(s3bubbleswal(o.modal).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose(),n&&window.open(n,"_self")}),!o.modal.hasOwnProperty("title")){var i=document.querySelector(".s3bubble-swal2-title");null!=i&&i.parentNode.removeChild(i)}o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,s):t.video(o,s)},a)}else{if(s3bubbleswal(o.modal).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose(),n&&window.open(n,"_self")}),!o.modal.hasOwnProperty("title")){var r=document.querySelector(".s3bubble-swal2-title");null!=r&&r.parentNode.removeChild(r)}o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,s):t.video(o,s)}}else o.hasOwnProperty("options")?o.options.prepare=!0:(o.options={},o.options.prepare=!0),s3bubbleswal({html:"<div id='"+e+"' class='s3bubbble-prepare-16-9'></div>",width:800,allowOutsideClick:!1}).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose()}),o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,s):t.video(o,s)},t.audio=function(t,o){var s,i,n;if(t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=0;t.hasOwnProperty("setIndex")&&(a=parseInt(t.setIndex)),s3bubbleHelpers.getData({uri:"player",code:t.codes[a]},function(a){if(a.error)return i=document.createElement("video"),i.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),(n=videojs(i)).errorsPlugin({}),void n.error({code:7,message:a.message});(s=s3bubbleHelpers.extend(a,t)).index=0,s.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",s.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.init","video.code",s.options.code),ga("s3bubble.send","event","s3bubble.init","video.bucket",s.options.bucket),ga("s3bubble.send","event","s3bubble.init","video.title",s3bubbleHelpers.s3bubbleCleanFilename(s.meta.title)),ga("s3bubble.send","event","s3bubble.init","video.key",s.options.key),ga("s3bubble.send","event","s3bubble.init","video.vpaid",s.options.vpaid),(i=document.createElement("video")).className="video-js vjs-default-skin",i.poster=s.source.poster,i.controls=s.options.controls,i.muted=s.options.muted,i.preload=s.options.preload,i.crossorigin="anonymous",i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),i.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()});var r={techOrder:["youtube","vimeo","dailymotion"],sources:[{type:"video/"+service.type,src:s.codes[s.index]}],autoplay:s.options.autoplay,playbackRates:s.options.playbackRates,loop:s.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:s.options.hasOwnProperty("chromecast")?s.options.chromecast:"E14DC85B"}}};s.options.hasOwnProperty("width")&&(r.width=s.options.width),s.options.hasOwnProperty("height")&&(r.height=s.options.height),s.options.hasOwnProperty("height")||s.options.hasOwnProperty("width")||(s.options.hasOwnProperty("aspect")?i.classList.add("vjs-"+s.options.aspect):i.classList.add("vjs-16-9")),s.options.fluid&&i.classList.add("vjs-s3bubble-fullscreen");var l=".vjs-default-skin.vjs-user-inactive .vjs-control-bar {opacity:1 !important;}.video-js .vjs-control-bar {display:inline-flex !important;}",d=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",u.styleSheet?u.styleSheet.cssText=l:u.appendChild(document.createTextNode(l)),d.appendChild(u),(n=videojs(i,r,function(){this.one("durationchange",function(){if(s.hasOwnProperty("startTime")){var e=this.duration()/100*s.startTime;this.currentTime(Math.round(parseInt(e)))}}),s.hasOwnProperty("popit")&&this.popitPlugin(e,s.popit),this.playlistPlugin(s),this.airplayPlugin(),this.ga({code:s.options.code}),o&&o(this)})).src(s.source),n.errorsPlugin(s),n.waveformPlugin(s),s.source.hasOwnProperty("download")&&"application/x-mpegURL"!=s.source.type&&(s.meta.download=s.source.download),n.s3BubbleMetaOverlay(s.meta),n.brandPlugin(s.brand),s3bubbleHelpers.isMobile()&&(n.el().getElementsByClassName("vjs-big-play-button")[0].style.display="none"),s.hasOwnProperty("playlist")||(n.previewPlugin(s.preview),n.buttonsPlugin(s.buttons));var p=s.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(p="touchend"),n.one(p,function(e){this.vPaidPlugin(s)}),n.on("loadedmetadata",function(e){this.ratesSwitcherPlugin(s)}),n.playlistSkip=function(e){var t=this;s.index=e;var o=s.codes.indexOf(e);-1!=o&&(s.index=o);var i=t.el().getElementsByClassName("vjs-s3bubble-playlist");if(i){var n,a=i[0].childNodes;for(n=0;n<a.length;n++)parseInt(a[n].getAttribute("id"))===parseInt(s.index)?videojs.addClass(a[n],"vjs-selected"):videojs.removeClass(a[n],"vjs-selected")}t.pause(),s3bubbleHelpers.getData({uri:"player",code:s.codes[s.index]},function(e){e.error||(s.hasOwnProperty("playlist")?(t.src(e.source),t.load(),e.brand=s.brand,t.waveformPlugin(e)):(t.src(e.source),t.load(),t.poster(e.source.poster),t.s3BubbleMetaOverlay(e.meta),t.updatePreview(e.preview),e.brand=s.brand,t.waveformPlugin(e)),t.play())})},n.reload=function(e){var t=this;t.pause(),s3bubbleHelpers.getData({uri:"player",code:s.codes[0]},function(e){e.error||(s.hasOwnProperty("playlist")?(t.src(e.source),t.load(),t.waveformPlugin(e)):(t.src(e.source),t.load(),t.waveformPlugin(e),t.poster(e.source.poster),t.s3BubbleMetaOverlay(e.meta),t.updatePreview(e.preview)),t.play())})}})}},t.video=function(t,o){var s,i,n={};if(t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=0;vidtop._models;_api_player_handle=function(a){if(a.error)return s=document.createElement("video"),s.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),(i=videojs(s)).errorsPlugin({}),void i.error({code:7,message:a.message});(n=s3bubbleHelpers.extend(a,t)).index=0,n.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",n.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.init","video.code",n.options.code),ga("s3bubble.send","event","s3bubble.init","video.bucket",n.options.bucket),ga("s3bubble.send","event","s3bubble.init","video.title",s3bubbleHelpers.s3bubbleCleanFilename(n.meta.title)),ga("s3bubble.send","event","s3bubble.init","video.key",n.options.key),ga("s3bubble.send","event","s3bubble.init","video.vpaid",n.options.vpaid),(s=document.createElement("video")).className="video-js vjs-default-skin",s.crossorigin="anonymous",s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),n.options.background&&(s.className="video-js vjs-s3bubble-background"),s.controls=n.options.controls,s.muted=n.options.muted,s.preload=n.options.preload,s3bubbleHelpers.isMobile()&&(s.poster=n.source.poster),e.appendChild(s),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()});var r={autoplay:n.options.autoplay,playbackRates:n.options.playbackRates,loop:n.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:n.options.hasOwnProperty("chromecast")?n.options.chromecast:"E14DC85B"}}};n.options.youtube&&(r.techOrder=["youtube","vimeo","dailymotion"],n.source.type="video/youtube",n.source.src="https://www.youtube.com/watch?v="+n.options.code,n.poster="https://img.youtube.com/vi/"+n.options.code+"/maxresdefault.jpg"),n.options.hasOwnProperty("width")&&(r.width=n.options.width),n.options.hasOwnProperty("height")&&(r.height=n.options.height),n.options.hasOwnProperty("height")||n.options.hasOwnProperty("width")||(n.options.hasOwnProperty("aspect")?s.classList.add("vjs-"+n.options.aspect):s.classList.add("vjs-16-9")),n.options.fluid&&s.classList.add("vjs-s3bubble-fullscreen");var l=[];l.push(n.source),"video/quicktime"===n.source.type&&(n.source.type="video/mp4"),"application/x-mpegURL"===n.source.type&&n.hasOwnProperty("fallback")&&l.push(n.fallback),r.sources=l,(i=videojs(s,r,function(){this.muted(n.options.muted);var t=jQuery(".streamium-featured-background iframe");t&&t.length>0&&(t[0].style.top=""),this.one("durationchange",function(){if(n.hasOwnProperty("startTime")){var e=this.duration()/100*n.startTime;this.currentTime(Math.round(parseInt(e)))}}),n.hasOwnProperty("popit")&&this.popitPlugin(e,n.popit),this.playlistPlugin(n),this.airplayPlugin(),this.ga({code:n.options.code}),o&&o(this)})).lazyPlugin(s,n.source.poster),i.errorsPlugin(n),n.source.hasOwnProperty("download")&&"application/x-mpegURL"!=n.source.type&&(n.meta.download=n.source.download),i.s3BubbleMetaOverlay(n.meta),i.brandPlugin(n.brand),i.s3BubbleMultiAdvertsInit(n),n.hasOwnProperty("playlist")||(i.previewPlugin(n.preview),i.buttonsPlugin(n.buttons));var d=n.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(d="touchend"),i.one(d,function(e){this.vPaidPlugin(n)}),i.on("loadedmetadata",function(e){this.ratesSwitcherPlugin(n)})};vidtop._models;t.hasOwnProperty("setIndex")&&(a=parseInt(t.setIndex)),s3bubbleHelpers.getData({uri:"player",code:t.codes[a]},_api_player_handle)}},t.service=function(t,o){var s,i,n;if(t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=s3bubbleHelpers.getExternalService(t.codes[0]);void 0!==a.type&&s3bubbleHelpers.getData({uri:"globals"},function(r){if(r.error)return i=document.createElement("video"),i.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),(n=videojs(i)).errorsPlugin({}),void n.error({code:7,message:r.message});(s=s3bubbleHelpers.extend(r,t)).index=0,s.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",s.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.service","video.code",s.codes[s.index]),i=document.createElement("video"),s.options.background?i.className="video-js vjs-s3bubble-background":i.className="video-js vjs-default-skin vjs-16-9 "+(s.options.fluid?"vjs-s3bubble-fullscreen ":" "),i.poster=s.source.poster,i.controls=s.options.controls,i.muted=s.options.muted,i.preload=s.options.preload,i.crossorigin="anonymous",i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),i.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(_videoOptions={techOrder:["youtube","vimeo","dailymotion"],sources:[{type:"video/"+a.type,src:s.codes[s.index]}],autoplay:s.options.autoplay,playbackRates:s.options.playbackRates,loop:s.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:s.options.hasOwnProperty("chromecast")?s.options.chromecast:"E14DC85B"}}},n=videojs(i,_videoOptions,function(){this.one("durationchange",function(){if(s.hasOwnProperty("startTime")){var e=this.duration()/100*s.startTime;this.currentTime(Math.round(parseInt(e)))}}),this.ga({code:s.codes[s.index]}),o&&o(this)})).brandPlugin(s.brand),s.hasOwnProperty("meta")&&(s.source.hasOwnProperty("download")&&(s.meta.download=s.source.download),n.s3BubbleMetaOverlay(s.meta)),n.on("ended",function(){if(parseInt(s.index)<s.codes.length-1){s.index++;var e=s3bubbleHelpers.getExternalService(s.codes[s.index]);if(void 0===e.type)return;var t=n.el().getElementsByClassName("vimeoFrame")[0];void 0!==t&&(t.style.display="youtube"===e.type?"none":"block"),this.src({type:"video/"+e.type,src:s.codes[s.index]}),this.play()}})})}},t.lazy=function(t,o){var s,i,n;t.hasOwnProperty("code")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"lazy",code:t.code,types:t.types},function(a){if(a.error)return i=document.createElement("video"),i.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),(n=videojs(i)).errorsPlugin({}),void n.error({code:7,message:a.message});(s=s3bubbleHelpers.extend(a,t)).index=0,s.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",s.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),i=document.createElement("video"),s.options.background?i.className="video-js vjs-s3bubble-background":i.className="video-js vjs-default-skin vjs-16-9 "+(s.options.fluid?"vjs-s3bubble-fullscreen ":" "),i.controls=s.options.controls,i.muted=s.options.muted,i.preload=s.options.preload,i.crossorigin="anonymous",i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),i.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),s3bubbleHelpers.isMobile()&&(i.poster=s.source.poster),e.appendChild(i),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(n=videojs(i,{autoplay:s.options.autoplay,playbackRates:s.options.playbackRates,loop:s.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:s.options.hasOwnProperty("chromecast")?s.options.chromecast:"E14DC85B"}}},function(){o&&o(this)})).playlistPluginLazy(s),n.brandPlugin(s.brand),s.hasOwnProperty("meta")&&(s.source.hasOwnProperty("download")&&(s.meta.download=s.source.download),n.s3BubbleMetaOverlay(s.meta)),n.lazyPlugin(i,s.source.poster),n.src(a.codes[0]),n.playlistSkip=function(e){var t=this;s.index=e;var o=s.codes.indexOf(e);-1!=o&&(s.index=o),n.src(s.codes[e]);var i=t.el().getElementsByClassName("vjs-s3bubble-playlist-lazy");if(i){var a,r=i[0].childNodes;for(a=0;a<r.length;a++)parseInt(r[a].getAttribute("id"))===parseInt(s.index)?videojs.addClass(r[a],"vjs-selected"):videojs.removeClass(r[a],"vjs-selected")}t.s3BubbleMetaOverlay(s.codes[e].meta),t.play()},n.on("ended",function(){})})))},t.live=function(t,o){var s,i,n;t.hasOwnProperty("stream")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"stream",code:t.stream},function(a){if(a.error)return i=document.createElement("video"),i.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),(n=videojs(i)).errorsPlugin({}),void n.error({code:7,message:a.message});var r=(s=s3bubbleHelpers.extend(a,t)).source.protocol,l=s.source.address,d=s.source.stream;s.source.streamer,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",s.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.live","video.code",d),i=document.createElement("video"),s.options.background?i.className="video-js vjs-s3bubble-background":i.className="video-js vjs-default-skin vjs-16-9 "+(s.options.fluid?"vjs-s3bubble-fullscreen ":" "),i.controls=s.options.controls,i.muted=s.options.muted,i.preload=s.options.preload,i.crossorigin="anonymous",i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),i.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),s3bubbleHelpers.isMobile()&&(i.poster=s.source.poster),e.appendChild(i),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(n=videojs(i,{autoplay:s.options.autoplay,nativeControlsForTouch:!1,plugins:{chromecast:{appId:s.options.hasOwnProperty("chromecast")?s.options.chromecast:"E14DC85B"}}},function(){var e=this.el().getElementsByClassName("vjs-progress-control")[0];e.style.opacity="0",this.el().getElementsByClassName("vjs-remaining-time-display")[0].innerHTML="LIVE";var t=this.el().getElementsByClassName("vjs-remaining-time")[0];e.parentNode.insertBefore(t,e),this.airplayPlugin(),this.ga({code:d}),o&&o(this)})).lazyPlugin(i,s.source.poster),n.brandPlugin(s.brand),"demand"===s.type?n.src(s.source):n.src({type:"application/x-mpegURL",src:r+"://"+l+"/hls/"+d+".m3u8"}),n.errorsPlugin(s);var u=s.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(u="touchend"),n.one(u,function(e){this.vPaidPlugin(s)}),n.one("loadstart",function(){this.s3BubbleMetaOverlay(s.meta)});var p=0,c=0;n.on("timeupdate",function(){this.currentTime()===p?(c>3&&(this.userActive(!0),this.el().getElementsByClassName("vjs-live-display")[0].innerHTML="OFFLINE",c=0),c++):(c=0,this.el().getElementsByClassName("vjs-live-display")[0].innerHTML="LIVE: HLS"),p=this.currentTime()})})))},t.dragger=function(t){function o(e,t,o,s,i){e.style.left=t+"px",e.style.top=o+"px",e.style.width=s+"px",e.style.height=s/16*9+35+"px"}function s(){o(P,v.left,v.top,v.width,v.height),P.style.opacity=0}function i(e){a(e);var t=u||p||b||c;j.clicked={x:y,y:w,cx:e.clientX,cy:e.clientY,w:v.width,h:v.height,isResizing:t,isMoving:!t&&n(),topEdge:b,leftEdge:c,rightEdge:u,bottomEdge:p}}function n(){return y>0&&y<v.width&&w>0&&w<v.height&&w<30}function a(t){v=e.getBoundingClientRect(),y=t.clientX-v.left,w=t.clientY-v.top,b=w<j.margin,c=y<j.margin,u=y>=v.width-j.margin,p=w>=v.height-j.margin,h=window.innerWidth-j.margin,g=window.innerHeight-j.margin}function r(e){a(e),O=e,j.redraw=!0}function l(){if(requestAnimationFrame(l),j.redraw)if(j.redraw=!1,j.clicked&&j.clicked.isResizing){if(j.clicked.rightEdge&&(e.style.width=Math.max(y,j.minWidth)+"px"),j.clicked.bottomEdge&&(e.style.height=Math.max(y/16*9+35,j.minHeight)+"px"),j.clicked.leftEdge){var t=Math.max(j.clicked.cx-O.clientX+j.clicked.w,j.minWidth);t>j.minWidth&&(e.style.width=t+"px",e.style.height=t/16*9+35+"px",e.style.left=O.clientX+"px")}s()}else{if(j.clicked&&j.clicked.isMoving)return v.top<j.fullMargin||v.left<j.fullMargin||v.right>window.innerWidth-j.fullMargin||v.bottom>window.innerHeight-j.fullMargin?(o(P,0,0,window.innerWidth,window.innerHeight),P.style.opacity=.2):v.top<j.margin?(o(P,0,0,window.innerWidth,window.innerHeight/2),P.style.opacity=.2):v.left<j.margin?(o(P,0,0,window.innerWidth/2,window.innerHeight),P.style.opacity=.2):v.right>h?(o(P,window.innerWidth/2,0,window.innerWidth/2,window.innerHeight),P.style.opacity=.2):v.bottom>g?(o(P,0,window.innerHeight/2,window.innerWidth,window.innerWidth/2),P.style.opacity=.2):s(),m?void o(e,O.clientX-m.width/2,O.clientY-Math.min(j.clicked.y,m.height),m.width,m.height):(e.style.top=O.clientY-j.clicked.y+"px",void(e.style.left=O.clientX-j.clicked.x+"px"));u&&p||c&&b?e.style.cursor="nwse-resize":u&&b||p&&c?e.style.cursor="nesw-resize":u||c?e.style.cursor="ew-resize":p||b?e.style.cursor="ns-resize":n()?e.style.cursor="move":e.style.cursor="default"}}function d(t){if(a(t),j.clicked&&j.clicked.isMoving){var i={width:v.width,height:v.height};v.top<j.fullMargin||v.left<j.fullMargin||v.right>window.innerWidth-j.fullMargin||v.bottom>window.innerHeight-j.fullMargin?(o(e,0,0,window.innerWidth,window.innerHeight),m=i):v.top<j.margin?(o(e,0,0,window.innerWidth,window.innerHeight/2),m=i):v.left<j.margin?(o(e,0,0,window.innerWidth/2,window.innerHeight),m=i):v.right>h?(o(e,window.innerWidth/2,0,window.innerWidth/2,window.innerHeight),m=i):v.bottom>g?(o(e,0,window.innerHeight/2,window.innerWidth,window.innerWidth/2),m=i):m=null,s()}j.clicked=null}var u,p,c,b,h,g,m,v,y,w,f={title:"Drag, Resize, Snap",fullMargin:-10,margin:4,clicked:null,width:300,minWidth:300,minHeight:204,position:"bottomRight",redraw:!1},j=s3bubbleHelpers.extend(f,t),x=document.createElement("h2");x.innerHTML=j.title,e.insertBefore(x,e.childNodes[0]),e.style.width=f.width+"px",e.style.height=f.width/16*9+35+"px","bottomRight"===j.position&&(e.style.bottom="10px",e.style.right="10px"),"bottomLeft"===j.position&&(e.style.bottom="10px",e.style.left="10px"),"topRight"===j.position&&(e.style.top="10px",e.style.right="10px"),"topLeft"===j.position&&(e.style.top="10px",e.style.left="10px"),e.style.display="block",document.body.appendChild(e);var P=document.createElement("div");P.className="s3bubble-dragger-ghost",document.body.appendChild(P),e.addEventListener("mousedown",function(e){i(e),e.preventDefault()}),document.addEventListener("mousemove",r),document.addEventListener("mouseup",d),e.addEventListener("touchstart",function(e){i(e.touches[0]),e.preventDefault()}),document.addEventListener("touchmove",function(e){r(e.touches[0])}),document.addEventListener("touchend",function(e){0==e.touches.length&&d(e.changedTouches[0])});var O;l()},t}var s3bubbleHelpers=s3bubbleGlobals();