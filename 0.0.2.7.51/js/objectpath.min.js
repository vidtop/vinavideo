!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(o(t)&&0===t.length)return!0;if("string"!=typeof t){for(var r in t)if(e(t,r))return!1;return!0}return!1}function r(e){return u.call(e)}function n(e){var t=parseInt(e);return t.toString()===e?t:e}function i(i){function u(t,r){return i.includeInheritedProps||"number"==typeof r&&Array.isArray(t)||e(t,r)}function f(e,t){if(u(e,t))return e[t]}function c(e,t,r,i){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(n),r,i);var u=t[0],o=f(e,u);return 1===t.length?(void 0!==o&&i||(e[u]=r),o):(void 0===o&&("number"==typeof t[1]?e[u]=[]:e[u]={}),c(e[u],t.slice(1),r,i))}i=i||{};var l=function(e){return Object.keys(l).reduce(function(t,r){return"create"===r?t:("function"==typeof l[r]&&(t[r]=l[r].bind(l,e)),t)},{})};return l.has=function(t,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!t;for(var u=0;u<r.length;u++){var f=n(r[u]);if(!("number"==typeof f&&o(t)&&f<t.length||(i.includeInheritedProps?f in Object(t):e(t,f))))return!1;t=t[f]}return!0},l.ensureExists=function(e,t,r){return c(e,t,r,!0)},l.set=function(e,t,r,n){return c(e,t,r,n)},l.insert=function(e,t,r,n){var i=l.get(e,t);n=~~n,o(i)||(i=[],l.set(e,t,i)),i.splice(n,0,r)},l.empty=function(e,n){if(!t(n)&&null!=e){var i,f;if(i=l.get(e,n)){if("string"==typeof i)return l.set(e,n,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}(i))return l.set(e,n,!1);if("number"==typeof i)return l.set(e,n,0);if(o(i))i.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===r(e)}(i))return l.set(e,n,null);for(f in i)u(i,f)&&delete i[f]}}}},l.push=function(e,t){var r=l.get(e,t);o(r)||(r=[],l.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},l.coalesce=function(e,t,r){for(var n,i=0,u=t.length;i<u;i++)if(void 0!==(n=l.get(e,t[i])))return n;return r},l.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return l.get(e,t.split("."),r);var i=n(t[0]),u=f(e,i);return void 0===u?r:1===t.length?u:l.get(e[i],t.slice(1),r)},l.del=function(e,r){if("number"==typeof r&&(r=[r]),null==e)return e;if(t(r))return e;if("string"==typeof r)return l.del(e,r.split("."));var i=n(r[0]);return u(e,i)?1!==r.length?l.del(e[i],r.slice(1)):(o(e)?e.splice(i,1):delete e[i],e):e},l}var u=Object.prototype.toString,o=Array.isArray||function(e){return"[object Array]"===u.call(e)},f=i();return f.create=i,f.withInheritedProps=i({includeInheritedProps:!0}),f});