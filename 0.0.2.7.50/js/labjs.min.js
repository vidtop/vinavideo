!function(e,t,r){"function"==typeof define&&define.amd?define(r):t[e]=r(e,t)}("$LAB",this,function(e,t){"use strict";function r(e){if("script"==e.type||"module"==e.type){var t=document.createElement("script");t.setAttribute("src",e.src),t.setAttribute("data-requested-with","LABjs"),t.async=!1,"module"==e.type&&t.setAttribute("type","module")}return e.opts,document.head.appendChild(t),e.loadRequested=!0,t}function n(e){setTimeout(function(){throw e},0)}function o(e,t){for(var r in t)e[r]=t[r];return e}function s(e,t){var r=/^[\w\-]+:\/\/\/?/;return/^\/\/\/?/.test(e)?e=location.protocol+e:r.test(e)||"/"==e[0]||(e=(t||"")+e),r.test(e)||(e="/"==e[0]?v+e:m+e),e}function i(){function e(e){this.isGroup=!0,this.resources=[],this.ready=!1,this.complete=!1,this.check=e||function(){}}function c(e,t){this.type=e,this.src=t,this.listeners=[],this.preloadRequested=!1,this.preloaded=!1,this.loadRequested=!1,this.complete=!1,this.opts=null}function m(e){for(var t=[],r=0;r<e.listeners.length;r++)~t.indexOf(e.listeners[r].group)||t.push(e.listeners[r].group);for(r=0;r<t.length;r++)t[r].check()}function v(){function t(t){if(0==v.length){var r=new e;r.ready=r.complete=!0,v.push(r)}v.push({wait:t})}function i(){null==a&&(a=setTimeout(u,0))}function u(){a=null;for(var e=0;e<v.length;e++)if(!v[e].complete)if(v[e].isGroup){if(function(e){if(!e.ready&&!e.complete)if(y){for(var t=!0,n=0;n<e.resources.length;n++)if(!w[e.resources[n].src].preloaded){t=!1;break}e.ready=t}else e.ready=!0;if(!e.complete&&e.ready){for(var o=!0,n=0;n<e.resources.length;n++)!function(e){var t=w[e.src];if(t.loadRequested){if(t.complete)return;o=!1,~t.listeners.indexOf(e)||t.listeners.push(e)}else{var n=r(t);n.addEventListener("load",function e(){n.removeEventListener("load",e),t.complete=!0,m(t)}),o=!1}}(e.resources[n]);o&&(e.complete=!0)}}(v[e]),!v[e].complete)break}else if("function"==typeof v[e].wait)try{v[e].wait(),v[e].complete=!0}catch(e){f[d]?n(e):l(e);break}else v[e].complete=!0}var a,f=o({},A),v=[],b={setOptions:function(e){return f=o(f,e),b},script:function(){for(var t=0;t<arguments.length;t++)!function(t,r){if(0==v.length||!v[v.length-1].isGroup||v[v.length-1].complete||!y&&!g||f[p]&&!g){var n=new e(i);v.push(n)}var o=v[v.length-1];o.complete=!1,r="string"==typeof r?{type:t,src:s(r,f[h]),group:o}:{type:t,src:s(r.src,f[h]),opts:r,group:o},o.resources.push(r);var u=function(e){e.src in w||(w[e.src]=new c(e.type,e.src));var t=w[e.src];return t.type||(t.type=e.type),t.opts||(t.opts=e.opts),~t.listeners.indexOf(e)||t.listeners.push(e),t}(r);if(y&&!u.preloadRequested){var l=function(e){var t=document.createElement("link");return t.setAttribute("href",e.src),"script"!=e.type&&"module"!=e.type||t.setAttribute("as","script"),t.setAttribute("rel","preload"),t.setAttribute("data-requested-with","LABjs"),document.head.appendChild(t),e.preloadRequested=!0,t}(u);l.addEventListener("load",function e(){l.removeEventListener("load",e),l.parentNode.removeChild(l),u.preloaded=!0,m(u)})}}("script",arguments[t]);return i(),b},wait:function(){if(arguments.length>0)for(var e=0;e<arguments.length;e++)t(arguments[e]);else t(!0);return i(),b}};return b}var w={},A={};A[p]=!1,A[f]=!1,A[d]=!1,A[h]="",b&&function(){for(var e=0;e<a.length;e++)!function(e){if(e&&/\bpreload\b/i.test(e.getAttribute("rel"))){if(!e.getAttribute("as"))return;var r=e.getAttribute("href");r=s(r,document.baseURI);var n=t.performance.getEntriesByName(r);if(r in w)return;var o=new c(null,r);o.preloadRequested=!0,w[r]=o,n.length>0?o.preloaded=!0:e.addEventListener("load",function t(){e.removeEventListener("load",t),o.preloaded=!0,m(o)})}}(a[e])}();var E={setGlobalDefaults:function(e){return A=o(A,e),E},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},sandbox:i,noConflict:function(){return t.$LAB=u,E}};return E}var u=t.$LAB,c=function(){},l=c;t.console&&t.console.log&&(t.console.error||(t.console.error=t.console.log),c=function(e){t.console.log(e)},l=function(e,r){t.console.error(e,r)});var a=document.getElementsByTagName("link"),p="AlwaysPreserveOrder",f="CacheBust",d="Debug",h="BasePath",m=/^[^?#]*\//.exec(location.href)[0],v=/^[\w\-]+\:\/\/\/?[^\/]+/.exec(m)[0],y=(document.head,function(){var e=document.createElement("link").relList;try{if(e&&e.supports)return e.supports("preload")}catch(e){}return!1}()),g=!0===document.createElement("script").async,b=t.performance&&t.performance.getEntriesByName;return i()});