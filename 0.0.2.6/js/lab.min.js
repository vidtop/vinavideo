!function(e,t,r){"function"==typeof define&&define.amd?define(r):t[e]=r(e,t)}("$LAB",this,function(e,t){"use strict";function r(e){var t=document.createElement("link");return t.setAttribute("href",e.src),"script"!=e.type&&"module"!=e.type||t.setAttribute("as","script"),t.setAttribute("rel","preload"),t.setAttribute("data-requested-with","LABjs"),document.head.appendChild(t),e.preloadRequested=!0,t}function n(e){if("script"==e.type||"module"==e.type){var t=document.createElement("script");t.setAttribute("src",e.src),t.setAttribute("data-requested-with","LABjs"),t.async=!1,"module"==e.type&&t.setAttribute("type","module")}return e.opts,document.head.appendChild(t),e.loadRequested=!0,t}function o(e){setTimeout(function(){throw e},0)}function s(e,t){for(var r in t)e[r]=t[r];return e}function i(e,t){var r=/^[\w\-]+:\/\/\/?/;return/^\/\/\/?/.test(e)?e=location.protocol+e:r.test(e)||"/"==e[0]||(e=(t||"")+e),r.test(e)||(e="/"==e[0]?y+e:v+e),e}function u(){function e(e){this.isGroup=!0,this.resources=[],this.ready=!1,this.complete=!1,this.check=e||function(){}}function l(e,t){this.type=e,this.src=t,this.listeners=[],this.preloadRequested=!1,this.preloaded=!1,this.loadRequested=!1,this.complete=!1,this.opts=null}function v(e){e.src in E||(E[e.src]=new l(e.type,e.src));var t=E[e.src];return t.type||(t.type=e.type),t.opts||(t.opts=e.opts),~t.listeners.indexOf(e)||t.listeners.push(e),t}function y(e){for(var t=[],r=0;r<e.listeners.length;r++)~t.indexOf(e.listeners[r].group)||t.push(e.listeners[r].group);for(r=0;r<t.length;r++)t[r].check()}function A(){function t(t,n){if(0==A.length||!A[A.length-1].isGroup||A[A.length-1].complete||!g&&!b||w[f]&&!b){var o=new e(c);A.push(o)}var s=A[A.length-1];s.complete=!1,n="string"==typeof n?{type:t,src:i(n,w[m]),group:s}:{type:t,src:i(n.src,w[m]),opts:n,group:s},s.resources.push(n);var u=v(n);if(g&&!u.preloadRequested){var l=r(u);l.addEventListener("load",function e(){l.removeEventListener("load",e),l.parentNode.removeChild(l),u.preloaded=!0,y(u)})}}function u(t){if(0==A.length){var r=new e;r.ready=r.complete=!0,A.push(r)}A.push({wait:t})}function c(){null==d&&(d=setTimeout(l,0))}function l(){d=null;for(var e=0;e<A.length;e++)if(!A[e].complete)if(A[e].isGroup){if(p(A[e]),!A[e].complete)break}else if("function"==typeof A[e].wait)try{A[e].wait(),A[e].complete=!0}catch(e){w[h]?o(e):a(e);break}else A[e].complete=!0}function p(e){if(!e.ready&&!e.complete)if(g){for(var t=!0,r=0;r<e.resources.length;r++)if(!E[e.resources[r].src].preloaded){t=!1;break}e.ready=t}else e.ready=!0;if(!e.complete&&e.ready){for(var o=!0,r=0;r<e.resources.length;r++)!function(e){var t=E[e.src];if(t.loadRequested){if(t.complete)return;o=!1,~t.listeners.indexOf(e)||t.listeners.push(e)}else{var r=n(t);r.addEventListener("load",function e(){r.removeEventListener("load",e),t.complete=!0,y(t)}),o=!1}}(e.resources[r]);o&&(e.complete=!0)}}var d,w=s({},L),A=[],B={setOptions:function(e){return w=s(w,e),B},script:function(){for(var e=0;e<arguments.length;e++)t("script",arguments[e]);return c(),B},wait:function(){if(arguments.length>0)for(var e=0;e<arguments.length;e++)u(arguments[e]);else u(!0);return c(),B}};return B}var E={},L={};L[f]=!1,L[d]=!1,L[h]=!1,L[m]="",w&&function(){for(var e=0;e<p.length;e++)!function(e){if(e&&/\bpreload\b/i.test(e.getAttribute("rel"))){if(!e.getAttribute("as"))return;var r=e.getAttribute("href");r=i(r,document.baseURI);var n=t.performance.getEntriesByName(r);if(r in E)return;var o=new l(null,r);o.preloadRequested=!0,E[r]=o,n.length>0?o.preloaded=!0:e.addEventListener("load",function t(){e.removeEventListener("load",t),o.preloaded=!0,y(o)})}}(p[e])}();var B={setGlobalDefaults:function(e){return L=s(L,e),B},setOptions:function(){return A().setOptions.apply(null,arguments)},script:function(){return A().script.apply(null,arguments)},wait:function(){return A().wait.apply(null,arguments)},sandbox:u,noConflict:function(){return t.$LAB=c,B}};return B}var c=t.$LAB,l=function(){},a=l;t.console&&t.console.log&&(t.console.error||(t.console.error=t.console.log),l=function(e){t.console.log(e)},a=function(e,r){t.console.error(e,r)});var p=document.getElementsByTagName("link"),f="AlwaysPreserveOrder",d="CacheBust",h="Debug",m="BasePath",v=/^[^?#]*\//.exec(location.href)[0],y=/^[\w\-]+\:\/\/\/?[^\/]+/.exec(v)[0],g=(document.head,function(){var e=document.createElement("link").relList;try{if(e&&e.supports)return e.supports("preload")}catch(e){}return!1}()),b=!0===document.createElement("script").async,w=t.performance&&t.performance.getEntriesByName;return u()});