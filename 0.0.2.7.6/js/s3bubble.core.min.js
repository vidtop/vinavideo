function s3bubbleGlobals(){var e={};return e.extend=function(t,o){for(var i in o)"object"==typeof t[i]?e.extend(t[i],o[i]):t[i]=o[i];return t},e.isScrolledIntoView=function(e){if(e.getBoundingClientRect()){var t=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;return t<window.innerHeight&&o>=0}},e.setFontSize=function(e){if(document.getElementById(e.id)){var t=document.getElementById(e.id).offsetWidth,o={maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35};if(e.hasOwnProperty("elements"))for(var i=e.elements,s=i.length-1;s>=0;s--)if(i[s].hasOwnProperty("fontRatio")&&i[s].hasOwnProperty("el")){var n=(t>o.maximum?o.maximum:t<o.minimum?o.minimum:t)/i[s].fontRatio,a=n>o.maxFont?o.maxFont:n<o.minFont?o.minFont:n;i[s].el.style.fontSize=a+"px"}}},e.copy=function e(t){var o,i,s;o=Array.isArray(t)?[]:{};for(s in t)i=t[s],o[s]="object"==typeof i?e(i):i;return o},e.addScripts=function(){var e=document.createElement("script");e.type="text/javascript",e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js";var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//www.google-analytics.com/analytics.js",document.getElementsByTagName("head")[0].setAttribute("data-cast-api-enabled","true");var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js",function(){try{return window.self!==window.top}catch(e){return!0}}()||(document.head.appendChild(e),document.head.appendChild(t),document.head.appendChild(o));var s=document.getElementsByClassName("s3bubble");for(i=0;i<s.length;i++)s[i].getAttribute("data-setup")&&(setup=JSON.parse(s[i].getAttribute("data-setup")),s3bubble(s[i]).video(setup))},e.getData=function(e,t){var o=vidtop._models;if(/^2PACX-/.test(e.code))return o.getPlayObj(e.code,function(o){o.post_id=e.code,t(o)})},e.getJson=function(e,t){var o=new XMLHttpRequest;o.open("GET",e.waveform),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){if(200===o.status){var e=JSON.parse(o.responseText);t(e.error?{error:!0,message:e.message}:e)}else 200!==o.status&&t({error:!0,message:"Request failed.  Returned status of "+o.status})},o.send()},e.swipedetect=function(e,t){var o,i,s,n,a,r,l,d=e,p=t||function(e){};d.addEventListener("touchstart",function(e){var t=e.changedTouches[0];o="none",dist=0,i=t.pageX,s=t.pageY,l=(new Date).getTime(),e.preventDefault()},!1),d.addEventListener("touchmove",function(e){e.preventDefault()},!1),d.addEventListener("touchend",function(e){var t=e.changedTouches[0];n=t.pageX-i,a=t.pageY-s,(r=(new Date).getTime()-l)<=300&&(Math.abs(n)>=150&&Math.abs(a)<=100?o=n<0?"left":"right":Math.abs(a)>=150&&Math.abs(n)<=100&&(o=a<0?"up":"down")),p(o),e.preventDefault()},!1)},e.s3bubbleCleanFilename=function(e){if(""===e||void 0===e||!1===e)return null;try{return e=decodeURIComponent(e),e=e.replace(/\\/g,""),e=e.replace(/\_/g," "),e=e.replace(/\-/g," ")}catch(t){return e=e.replace(/\\/g,""),e=e.replace(/\_/g," "),e=e.replace(/\-/g," ")}},e.isAndroid=function(){return navigator.userAgent.match(/Android/i)},e.isBlackBerry=function(){return navigator.userAgent.match(/BlackBerry/i)},e.isIOS=function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},e.isOpera=function(){return navigator.userAgent.match(/Opera Mini/i)},e.isWindows=function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},e.isMobile=function(){return e.isAndroid()||e.isBlackBerry()||e.isIOS()||e.isOpera()||e.isWindows()},e.getExternalService=function(e){if(e.match(/(http:\/\/|https:\/\/|)(player.|www.)?(dailymotion\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1)t="youtube";else if(RegExp.$3.indexOf("vimeo")>-1)t="vimeo";else if(RegExp.$3.indexOf("dailymotion")>-1)var t="dailymotion";return{type:t,id:RegExp.$6}},e}function s3bubble(e){var t={};return videojs.browser.IS_ANY_SAFARI||(videojs.options.hls.overrideNative=!0,videojs.options.html5.nativeAudioTracks=!1,videojs.options.html5.nativeTextTracks=!1),t.playlist=function(o,i){o.hasOwnProperty("code")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"playlist_codes",id:o.code},function(s){if(s.error)return video=document.createElement("video"),video.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(video.style.position="absolute",video.style.top="0px"),e.appendChild(video),player=videojs(video),player.errorsPlugin({}),void player.error({code:7,message:s.message});o.codes=s.codes,o.options=s.options,o.meta=s.meta,o.brand=s.brand,o.source=s.source,o.playlist=!0,o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,i):t.video(o,i)})))},t.modal=function(o,i){if(o.hasOwnProperty("codes"))if(o.hasOwnProperty("modal")){var s="";o.modal.hasOwnProperty("text")&&(s="<p style='margin-top:10px;'>"+o.modal.text+"</p>"),o.modal.html="<div id='"+e+"' class='s3bubbble-prepare-16-9'></div>"+s,o.hasOwnProperty("options")?o.options.prepare=!0:(o.options={},o.options.prepare=!0);var n=null;if(o.modal.hasOwnProperty("link")&&(n=o.modal.link,delete o.modal.link),o.modal.hasOwnProperty("delay")){var a=o.modal.delay;delete o.modal.delay,o.modal.allowOutsideClick=!1,setTimeout(function(){if(s3bubbleswal(o.modal).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose(),n&&window.open(n,"_self")}),!o.modal.hasOwnProperty("title")){var s=document.querySelector(".s3bubble-swal2-title");null!=s&&s.parentNode.removeChild(s)}o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,i):t.video(o,i)},a)}else{if(s3bubbleswal(o.modal).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose(),n&&window.open(n,"_self")}),!o.modal.hasOwnProperty("title")){var r=document.querySelector(".s3bubble-swal2-title");null!=r&&r.parentNode.removeChild(r)}o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,i):t.video(o,i)}}else o.hasOwnProperty("options")?o.options.prepare=!0:(o.options={},o.options.prepare=!0),s3bubbleswal({html:"<div id='"+e+"' class='s3bubbble-prepare-16-9'></div>",width:800,allowOutsideClick:!1}).then(function(){e&&e.children.length>0&&videojs(e.children[0]).dispose()}),o.hasOwnProperty("type")&&"audio"===o.type?t.audio(o,i):t.video(o,i)},t.audio=function(t,o){var i,s,n;if(t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=0;t.hasOwnProperty("setIndex")&&(a=parseInt(t.setIndex)),s3bubbleHelpers.getData({uri:"player",code:t.codes[a]},function(a){if(a.error)return s=document.createElement("video"),s.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),(n=videojs(s)).errorsPlugin({}),void n.error({code:7,message:a.message});(i=s3bubbleHelpers.extend(a,t)).index=0,i.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",i.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.init","video.code",i.options.code),ga("s3bubble.send","event","s3bubble.init","video.bucket",i.options.bucket),ga("s3bubble.send","event","s3bubble.init","video.title",s3bubbleHelpers.s3bubbleCleanFilename(i.meta.title)),ga("s3bubble.send","event","s3bubble.init","video.key",i.options.key),ga("s3bubble.send","event","s3bubble.init","video.vpaid",i.options.vpaid),(s=document.createElement("video")).className="video-js vjs-default-skin",s.poster=i.source.poster,s.controls=i.options.controls,s.muted=i.options.muted,s.preload=i.options.preload,s.crossorigin="anonymous",s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()});var r={techOrder:["youtube","vimeo","dailymotion"],sources:[{type:"video/"+service.type,src:i.codes[i.index]}],autoplay:i.options.autoplay,playbackRates:i.options.playbackRates,loop:i.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:i.options.hasOwnProperty("chromecast")?i.options.chromecast:"E14DC85B"}}};i.options.hasOwnProperty("width")&&(r.width=i.options.width),i.options.hasOwnProperty("height")&&(r.height=i.options.height),i.options.hasOwnProperty("height")||i.options.hasOwnProperty("width")||(i.options.hasOwnProperty("aspect")?s.classList.add("vjs-"+i.options.aspect):s.classList.add("vjs-16-9")),i.options.fluid&&s.classList.add("vjs-s3bubble-fullscreen");var l=".vjs-default-skin.vjs-user-inactive .vjs-control-bar {opacity:1 !important;}.video-js .vjs-control-bar {display:inline-flex !important;}",d=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.type="text/css",p.styleSheet?p.styleSheet.cssText=l:p.appendChild(document.createTextNode(l)),d.appendChild(p),(n=videojs(s,r,function(){this.one("durationchange",function(){if(i.hasOwnProperty("startTime")){var e=this.duration()/100*i.startTime;this.currentTime(Math.round(parseInt(e)))}}),i.hasOwnProperty("popit")&&this.popitPlugin(e,i.popit),this.playlistPlugin(i),this.airplayPlugin(),this.ga({code:i.options.code}),o&&o(this)})).src(i.source),n.errorsPlugin(i),n.waveformPlugin(i),i.source.hasOwnProperty("download")&&"application/x-mpegURL"!=i.source.type&&(i.meta.download=i.source.download),n.s3BubbleMetaOverlay(i.meta),n.brandPlugin(i.brand),s3bubbleHelpers.isMobile()&&(n.el().getElementsByClassName("vjs-big-play-button")[0].style.display="none"),i.hasOwnProperty("playlist")||(n.previewPlugin(i.preview),n.buttonsPlugin(i.buttons));var u=i.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(u="touchend"),n.one(u,function(e){this.vPaidPlugin(i)}),n.on("loadedmetadata",function(e){this.ratesSwitcherPlugin(i)}),n.playlistSkip=function(e){var t=this;i.index=e;var o=i.codes.indexOf(e);-1!=o&&(i.index=o);var s=t.el().getElementsByClassName("vjs-s3bubble-playlist");if(s){var n,a=s[0].childNodes;for(n=0;n<a.length;n++)parseInt(a[n].getAttribute("id"))===parseInt(i.index)?videojs.addClass(a[n],"vjs-selected"):videojs.removeClass(a[n],"vjs-selected")}t.pause(),s3bubbleHelpers.getData({uri:"player",code:i.codes[i.index]},function(e){e.error||(i.hasOwnProperty("playlist")?(t.src(e.source),t.load(),e.brand=i.brand,t.waveformPlugin(e)):(t.src(e.source),t.load(),t.poster(e.source.poster),t.s3BubbleMetaOverlay(e.meta),t.updatePreview(e.preview),e.brand=i.brand,t.waveformPlugin(e)),t.play())})},n.reload=function(e){var t=this;t.pause(),s3bubbleHelpers.getData({uri:"player",code:i.codes[0]},function(e){e.error||(i.hasOwnProperty("playlist")?(t.src(e.source),t.load(),t.waveformPlugin(e)):(t.src(e.source),t.load(),t.waveformPlugin(e),t.poster(e.source.poster),t.s3BubbleMetaOverlay(e.meta),t.updatePreview(e.preview)),t.play())})}})}},t.video=function(t,o){var i,s,n={};if(!t.codes&&t.post_id&&(t.codes=[t.post_id]),t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=0;_api_player_handle=function(a){if(a.error)return i=document.createElement("video"),i.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),e.appendChild(i),(s=videojs(i)).errorsPlugin({}),void s.error({code:7,message:a.message});(n=s3bubbleHelpers.extend(a,t)).index=0,n.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",n.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.init","video.code",n.options.code),ga("s3bubble.send","event","s3bubble.init","video.bucket",n.options.bucket),ga("s3bubble.send","event","s3bubble.init","video.title",s3bubbleHelpers.s3bubbleCleanFilename(n.meta.title)),ga("s3bubble.send","event","s3bubble.init","video.key",n.options.key),ga("s3bubble.send","event","s3bubble.init","video.vpaid",n.options.vpaid),(i=document.createElement("video")).className="video-js vjs-default-skin",i.crossorigin="anonymous",i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),i.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(i.style.position="absolute",i.style.top="0px"),n.options.background&&(i.className="video-js vjs-s3bubble-background"),i.controls=n.options.controls,i.muted=n.options.muted,i.preload=n.options.preload,s3bubbleHelpers.isMobile()&&(i.poster=n.source.poster),e.appendChild(i),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()});var r={autoplay:n.options.autoplay,playbackRates:n.options.playbackRates,loop:n.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:n.options.hasOwnProperty("chromecast")?n.options.chromecast:"E14DC85B"}}};"youtube"==n.options.type?(r.techOrder=["youtube","vimeo","dailymotion"],n.source.type="video/youtube",n.source.src="https://www.youtube.com/watch?v="+n.options.code,n.poster="https://img.youtube.com/vi/"+n.options.code+"/maxresdefault.jpg"):(n.source.type=n.options.type,n.source.src=n.options.code),n.options.hasOwnProperty("width")&&(r.width=n.options.width),n.options.hasOwnProperty("height")&&(r.height=n.options.height),n.options.hasOwnProperty("height")||n.options.hasOwnProperty("width")||(n.options.hasOwnProperty("aspect")?i.classList.add("vjs-"+n.options.aspect):i.classList.add("vjs-16-9")),n.options.fluid&&i.classList.add("vjs-s3bubble-fullscreen");var l=[];l.push(n.source),"video/quicktime"===n.source.type&&(n.source.type="video/mp4"),"application/x-mpegURL"===n.source.type&&n.hasOwnProperty("fallback")&&l.push(n.fallback),r.sources=l,(s=videojs(i,r,function(){this.muted(n.options.muted);var t=jQuery(".streamium-featured-background iframe");t&&t.length>0&&(t[0].style.top=""),this.one("durationchange",function(){if(n.hasOwnProperty("startTime")){var e=this.duration()/100*n.startTime;this.currentTime(Math.round(parseInt(e)))}}),n.hasOwnProperty("popit")&&this.popitPlugin(e,n.popit),this.playlistPlugin(n),this.airplayPlugin(),this.ga({code:n.options.code}),o&&o(this)})).lazyPlugin(i,n.source.poster),s.errorsPlugin(n),n.source.hasOwnProperty("download")&&"application/x-mpegURL"!=n.source.type&&(n.meta.download=n.source.download),s.s3BubbleMetaOverlay(n.meta),s.brandPlugin(n.brand),s.s3BubbleMultiAdvertsInit(n),n.hasOwnProperty("playlist")||(s.previewPlugin(n.preview),s.buttonsPlugin(n.buttons));var d=n.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(d="touchend"),s.one(d,function(e){this.vPaidPlugin(n)}),s.on("loadedmetadata",function(e){this.ratesSwitcherPlugin(n)})},t.hasOwnProperty("setIndex")&&(a=parseInt(t.setIndex)),s3bubbleHelpers.getData({uri:"player",code:t.codes[a]},_api_player_handle)}},t.service=function(t,o){var i,s,n;if(t.hasOwnProperty("codes")&&("string"==typeof t.codes&&(t.codes=[t.codes]),e instanceof Element||(e=document.getElementById(e)),null!==e)){e.children.length>0&&videojs(e.children[0]).dispose();var a=s3bubbleHelpers.getExternalService(t.codes[0]);void 0!==a.type&&s3bubbleHelpers.getData({uri:"globals"},function(r){if(r.error)return s=document.createElement("video"),s.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),(n=videojs(s)).errorsPlugin({}),void n.error({code:7,message:r.message});(i=s3bubbleHelpers.extend(r,t)).index=0,i.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",i.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.service","video.code",i.codes[i.index]),s=document.createElement("video"),i.options.background?s.className="video-js vjs-s3bubble-background":s.className="video-js vjs-default-skin vjs-16-9 "+(i.options.fluid?"vjs-s3bubble-fullscreen ":" "),s.poster=i.source.poster,s.controls=i.options.controls,s.muted=i.options.muted,s.preload=i.options.preload,s.crossorigin="anonymous",s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(_videoOptions={techOrder:["youtube","vimeo","dailymotion"],sources:[{type:"video/"+a.type,src:i.codes[i.index]}],autoplay:i.options.autoplay,playbackRates:i.options.playbackRates,loop:i.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:i.options.hasOwnProperty("chromecast")?i.options.chromecast:"E14DC85B"}}},n=videojs(s,_videoOptions,function(){this.one("durationchange",function(){if(i.hasOwnProperty("startTime")){var e=this.duration()/100*i.startTime;this.currentTime(Math.round(parseInt(e)))}}),this.ga({code:i.codes[i.index]}),o&&o(this)})).brandPlugin(i.brand),i.hasOwnProperty("meta")&&(i.source.hasOwnProperty("download")&&(i.meta.download=i.source.download),n.s3BubbleMetaOverlay(i.meta)),n.on("ended",function(){if(parseInt(i.index)<i.codes.length-1){i.index++;var e=s3bubbleHelpers.getExternalService(i.codes[i.index]);if(void 0===e.type)return;var t=n.el().getElementsByClassName("vimeoFrame")[0];void 0!==t&&(t.style.display="youtube"===e.type?"none":"block"),this.src({type:"video/"+e.type,src:i.codes[i.index]}),this.play()}})})}},t.lazy=function(t,o){var i,s,n;t.hasOwnProperty("code")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"lazy",code:t.code,types:t.types},function(a){if(a.error)return s=document.createElement("video"),s.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),(n=videojs(s)).errorsPlugin({}),void n.error({code:7,message:a.message});(i=s3bubbleHelpers.extend(a,t)).index=0,i.length=0,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",i.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),s=document.createElement("video"),i.options.background?s.className="video-js vjs-s3bubble-background":s.className="video-js vjs-default-skin vjs-16-9 "+(i.options.fluid?"vjs-s3bubble-fullscreen ":" "),s.controls=i.options.controls,s.muted=i.options.muted,s.preload=i.options.preload,s.crossorigin="anonymous",s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),s3bubbleHelpers.isMobile()&&(s.poster=i.source.poster),e.appendChild(s),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(n=videojs(s,{autoplay:i.options.autoplay,playbackRates:i.options.playbackRates,loop:i.options.loop,nativeControlsForTouch:!1,plugins:{chromecast:{appId:i.options.hasOwnProperty("chromecast")?i.options.chromecast:"E14DC85B"}}},function(){o&&o(this)})).playlistPluginLazy(i),n.brandPlugin(i.brand),i.hasOwnProperty("meta")&&(i.source.hasOwnProperty("download")&&(i.meta.download=i.source.download),n.s3BubbleMetaOverlay(i.meta)),n.lazyPlugin(s,i.source.poster),n.src(a.codes[0]),n.playlistSkip=function(e){i.index=e;var t=i.codes.indexOf(e);-1!=t&&(i.index=t),n.src(i.codes[e]);var o=this.el().getElementsByClassName("vjs-s3bubble-playlist-lazy");if(o){var s,a=o[0].childNodes;for(s=0;s<a.length;s++)parseInt(a[s].getAttribute("id"))===parseInt(i.index)?videojs.addClass(a[s],"vjs-selected"):videojs.removeClass(a[s],"vjs-selected")}this.s3BubbleMetaOverlay(i.codes[e].meta),this.play()},n.on("ended",function(){})})))},t.live=function(t,o){var i,s,n;t.hasOwnProperty("stream")&&(e instanceof Element||(e=document.getElementById(e)),null!==e&&(e.children.length>0&&videojs(e.children[0]).dispose(),s3bubbleHelpers.getData({uri:"stream",code:t.stream},function(a){if(a.error)return s=document.createElement("video"),s.className="video-js vjs-default-skin vjs-16-9",videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),e.appendChild(s),(n=videojs(s)).errorsPlugin({}),void n.error({code:7,message:a.message});var r=(i=s3bubbleHelpers.extend(a,t)).source.protocol,l=i.source.address,d=i.source.stream;i.source.streamer,window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",i.options.googleUaCode,"auto","s3bubble"),ga("s3bubble.send","pageview"),ga("s3bubble.send","event","s3bubble.live","video.code",d),s=document.createElement("video"),i.options.background?s.className="video-js vjs-s3bubble-background":s.className="video-js vjs-default-skin vjs-16-9 "+(i.options.fluid?"vjs-s3bubble-fullscreen ":" "),s.controls=i.options.controls,s.muted=i.options.muted,s.preload=i.options.preload,s.crossorigin="anonymous",s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.addEventListener("contextmenu",function(e){e.preventDefault()},!1),videojs.hasClass(e,"s3bubbble-prepare-16-9")&&(s.style.position="absolute",s.style.top="0px"),s3bubbleHelpers.isMobile()&&(s.poster=i.source.poster),e.appendChild(s),s3bubbleHelpers.swipedetect(e,function(e){"right"===e&&window.history.back()}),(n=videojs(s,{autoplay:i.options.autoplay,nativeControlsForTouch:!1,plugins:{chromecast:{appId:i.options.hasOwnProperty("chromecast")?i.options.chromecast:"E14DC85B"}}},function(){var e=this.el().getElementsByClassName("vjs-progress-control")[0];e.style.opacity="0",this.el().getElementsByClassName("vjs-remaining-time-display")[0].innerHTML="LIVE";var t=this.el().getElementsByClassName("vjs-remaining-time")[0];e.parentNode.insertBefore(t,e),this.airplayPlugin(),this.ga({code:d}),o&&o(this)})).lazyPlugin(s,i.source.poster),n.brandPlugin(i.brand),"demand"===i.type?n.src(i.source):n.src({type:"application/x-mpegURL",src:r+"://"+l+"/hls/"+d+".m3u8"}),n.errorsPlugin(i);var p=i.options.autoplay?"loadedmetadata":"click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(p="touchend"),n.one(p,function(e){this.vPaidPlugin(i)}),n.one("loadstart",function(){this.s3BubbleMetaOverlay(i.meta)});var u=0,c=0;n.on("timeupdate",function(){this.currentTime()===u?(c>3&&(this.userActive(!0),this.el().getElementsByClassName("vjs-live-display")[0].innerHTML="OFFLINE",c=0),c++):(c=0,this.el().getElementsByClassName("vjs-live-display")[0].innerHTML="LIVE: HLS"),u=this.currentTime()})})))},t.dragger=function(t){function o(e,t,o,i,s){e.style.left=t+"px",e.style.top=o+"px",e.style.width=i+"px",e.style.height=i/16*9+35+"px"}function i(){o(P,v.left,v.top,v.width,v.height),P.style.opacity=0}function s(e){a(e);var t=p||u||b||c;j.clicked={x:y,y:w,cx:e.clientX,cy:e.clientY,w:v.width,h:v.height,isResizing:t,isMoving:!t&&n(),topEdge:b,leftEdge:c,rightEdge:p,bottomEdge:u}}function n(){return y>0&&y<v.width&&w>0&&w<v.height&&w<30}function a(t){v=e.getBoundingClientRect(),y=t.clientX-v.left,w=t.clientY-v.top,b=w<j.margin,c=y<j.margin,p=y>=v.width-j.margin,u=w>=v.height-j.margin,h=window.innerWidth-j.margin,g=window.innerHeight-j.margin}function r(e){a(e),k=e,j.redraw=!0}function l(){if(requestAnimationFrame(l),j.redraw)if(j.redraw=!1,j.clicked&&j.clicked.isResizing){if(j.clicked.rightEdge&&(e.style.width=Math.max(y,j.minWidth)+"px"),j.clicked.bottomEdge&&(e.style.height=Math.max(y/16*9+35,j.minHeight)+"px"),j.clicked.leftEdge){var t=Math.max(j.clicked.cx-k.clientX+j.clicked.w,j.minWidth);t>j.minWidth&&(e.style.width=t+"px",e.style.height=t/16*9+35+"px",e.style.left=k.clientX+"px")}i()}else{if(j.clicked&&j.clicked.isMoving)return v.top<j.fullMargin||v.left<j.fullMargin||v.right>window.innerWidth-j.fullMargin||v.bottom>window.innerHeight-j.fullMargin?(o(P,0,0,window.innerWidth,window.innerHeight),P.style.opacity=.2):v.top<j.margin?(o(P,0,0,window.innerWidth,window.innerHeight),P.style.opacity=.2):v.left<j.margin?(o(P,0,0,window.innerWidth/2,window.innerHeight),P.style.opacity=.2):v.right>h?(o(P,window.innerWidth/2,0,window.innerWidth/2,window.innerHeight),P.style.opacity=.2):v.bottom>g?(o(P,0,window.innerHeight/2,window.innerWidth,window.innerWidth),P.style.opacity=.2):i(),m?void o(e,k.clientX-m.width/2,k.clientY-Math.min(j.clicked.y,m.height),m.width,m.height):(e.style.top=k.clientY-j.clicked.y+"px",void(e.style.left=k.clientX-j.clicked.x+"px"));p&&u||c&&b?e.style.cursor="nwse-resize":p&&b||u&&c?e.style.cursor="nesw-resize":p||c?e.style.cursor="ew-resize":u||b?e.style.cursor="ns-resize":n()?e.style.cursor="move":e.style.cursor="default"}}function d(t){if(a(t),j.clicked&&j.clicked.isMoving){var s={width:v.width,height:v.height};v.top<j.fullMargin||v.left<j.fullMargin||v.right>window.innerWidth-j.fullMargin||v.bottom>window.innerHeight-j.fullMargin?(o(e,0,0,window.innerWidth,window.innerHeight),m=s):v.top<j.margin?(o(e,0,0,window.innerWidth,window.innerHeight),m=s):v.left<j.margin?(o(e,0,0,window.innerWidth/2,window.innerHeight),m=s):v.right>h?(o(e,window.innerWidth/2,0,window.innerWidth/2,window.innerHeight),m=s):v.bottom>g?(o(e,0,window.innerHeight/2,window.innerWidth,window.innerWidth),m=s):m=null,i()}j.clicked=null}var p,u,c,b,h,g,m,v,y,w,f={title:"Drag, Resize, Snap",fullMargin:-10,margin:4,clicked:null,width:300,minWidth:300,minHeight:204,position:"bottomRight",redraw:!1},j=s3bubbleHelpers.extend(f,t),x=document.createElement("h2");x.innerHTML=j.title,e.insertBefore(x,e.childNodes[0]),e.style.width=f.width+"px",e.style.height=f.width/16*9+35+"px","bottomRight"===j.position&&(e.style.bottom="10px",e.style.right="10px"),"bottomLeft"===j.position&&(e.style.bottom="10px",e.style.left="10px"),"topRight"===j.position&&(e.style.top="10px",e.style.right="10px"),"topLeft"===j.position&&(e.style.top="10px",e.style.left="10px"),e.style.display="block",document.body.appendChild(e);var P=document.createElement("div");P.className="s3bubble-dragger-ghost",document.body.appendChild(P),e.addEventListener("mousedown",function(e){s(e),e.preventDefault()}),document.addEventListener("mousemove",r),document.addEventListener("mouseup",d),e.addEventListener("touchstart",function(e){s(e.touches[0]),e.preventDefault()}),document.addEventListener("touchmove",function(e){r(e.touches[0])}),document.addEventListener("touchend",function(e){0==e.touches.length&&d(e.changedTouches[0])});var k;l()},t}var s3bubbleHelpers=s3bubbleGlobals();